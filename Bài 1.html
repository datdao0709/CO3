<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bài 1 - Xử lý mảng</title>
</head>
<body>
<h2>Nhập và Xử Lý Mảng Số Nguyên</h2>

<div>
    Nhập số phần tử (n ≤ 50):
    <input type="number" id="soPhanTu" min="1" max="50" required>
</div>

<div>
    Nhập mảng (cách nhau bằng dấu phẩy):
    <input type="text" id="nhapMang" placeholder="VD: 2, 3, 4, 5, 6" required>
</div>

<div>
    <button onclick="xuLyMang()">Kết quả</button>
</div>

<div id="ketQua" style="margin-top: 20px; font-weight: bold;"></div>

<script>
    function laSoNguyenTo(n) {
        if (n < 2) return false;
        for (let i = 2; i <= Math.sqrt(n); i++) {
            if (n % i === 0) return false;
        }
        return true;
    }

    function chuyenChuoiThanhMang(chuoi) {
        return chuoi
            .split(',')
            .map(item => parseInt(item.trim()))
            .filter(num => !isNaN(num));
    }

    function kiemTraDuLieu(n, mang) {
        if (isNaN(n) || n <= 0 || n > 50) {
            return "Số phần tử phải là số từ 1 đến 50!";
        }
        if (mang.length !== n) {
            return "Số phần tử trong mảng không khớp với n!";
        }
        return null;
    }

    function xuLyMang() {
        const n = parseInt(document.getElementById('soPhanTu').value);
        const mangA = chuyenChuoiThanhMang(document.getElementById('nhapMang').value);
        const Ketqua = document.getElementById('ketQua');

        const loi = kiemTraDuLieu(n, mangA);
        if (loi) {
            Ketqua.innerText = loi;
            return;
        }
        const mangNguyenTo = mangA.filter(laSoNguyenTo);
        Ketqua.innerText = `Mảng a: [${mangA.join(', ')}]\n`;
        Ketqua.innerText += `Mảng b (số nguyên tố): [${mangNguyenTo.join(', ')}]`;
    }
</script>
</body>
</html>
